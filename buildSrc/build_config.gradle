def buildPropertiesFile = rootProject.file("buildSrc${File.separator}build.properties")
def buildProperties = new Properties()
buildProperties.load(new FileInputStream(buildPropertiesFile))

android {
    compileSdkVersion buildProperties["TARGET_SDK_VERSION"] as Integer

    defaultConfig {
        targetSdkVersion buildProperties["TARGET_SDK_VERSION"] as Integer
        minSdkVersion buildProperties["MIN_SDK_VERSION"] as Integer

        versionCode buildProperties["VERSION_CODE"] as Integer
        versionName buildProperties["VERSION_NAME"]
    }

    buildTypes {
        release {
            debuggable false
            lintOptions.fatal 'StopShip'
            versionNameSuffix "+" + buildProperties["VERSION_CODE"]
            buildConfigField("Boolean", "DEBUG_MODE", "false")
        }
        staging {
            debuggable true
            lintOptions.fatal 'StopShip'
            versionNameSuffix "-" + buildProperties["VERSION_SUFFIX"] + "+" + buildProperties["VERSION_CODE"]
            buildConfigField("Boolean", "DEBUG_MODE", "true")
        }
        debug {
            debuggable true
            versionNameSuffix "-" + buildProperties["VERSION_SUFFIX"] + "+" + buildProperties["VERSION_CODE"]
            buildConfigField("Boolean", "DEBUG_MODE", "true")
        }
    }
}
