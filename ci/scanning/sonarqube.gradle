apply plugin: "org.sonarqube"

def jacocoDir = "${File.separator}build${File.separator}reports${File.separator}jacoco${File.separator}standardDebug${File.separator}jacoco.xml"
def sourceDir = "${File.separator}src${File.separator}main${File.separator}java${File.separator}com${File.separator}simprints"
def binariesDir = "${File.separator}build${File.separator}intermediates${File.separator}**"

sonarqube {
    properties {
        property "sonar.projectName", "Simprints ID"
        property "sonar.c.file.suffixes", "-"
        property "sonar.java.coveragePlugin", "jacoco"
    }
}

subprojects {
    sonarqube {
        properties {
            property "sonar.sources", "$projectDir$sourceDir"
            property "sonar.java.binaries", "$projectDir$binariesDir"
            property "sonar.coverage.jacoco.xmlReportPaths", [
                "$projectDir$jacocoDir"
            ]
        }
    }
}
